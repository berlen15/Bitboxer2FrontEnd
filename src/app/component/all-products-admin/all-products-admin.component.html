
<app-navbar></app-navbar>
<div class="container jumbotron">
  <div class="d-flex justify-content-center row">
    <p class="col-lg-3 col-md-3 col-sm-3 col-xs-12">Para filtrar la tabla por el estado del artículo, seleccione una de las opciones que se muestran a continuación</p>
      <mat-form-field appearance="fill" class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
          <mat-label>Filtrar artículos: </mat-label>
          <mat-select name="rol" [(ngModel)]="estado">
              <mat-option [value]="0">MOSTRAR TODOS</mat-option>
              <mat-option [value]="1">ARTÍCULOS EN VENTA</mat-option>
              <mat-option [value]="2">ARTÍCULOS DESCATALOGADOS</mat-option>
          </mat-select>
      </mat-form-field>
  </div>
    <div class="container">
      <div class="col-12 table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">CÓDIGO</th>
              <th scope="col">DESCRIPCIÓN</th>
              <th scope="col">PRECIO</th>
              <th scope="col">ESTADO</th>
              <th scope="col">CREADOR</th>
              <th scope="col">ACCIONES</th>
            </tr>
          </thead>
          <tbody *ngIf="estado==0">
            <tr *ngFor="let articulo of articulos">
              <th scope="row">{{articulo.codigoarticulo}}</th>
              <td>{{articulo.descripcion}}</td>
              <td>{{articulo.precio}} €</td>
              <td *ngIf="articulo.estado==2">DESCATALOGADO</td>
              <td *ngIf="articulo.estado==1">EN VENTA</td>
              <td>{{articulo.creador.nombreusuario}}</td>
              <td>
                <button type="button" class="btn btn-danger" (click)="openDialog(articulo.codigoarticulo)">ELIMINAR <i class="fas fa-trash"></i></button>
              </td>
            </tr>
          </tbody>

          <tbody *ngIf="estado==1">
              <tr *ngFor="let articulo of articulos_venta">
                <th scope="row">{{articulo.codigoarticulo}}</th>
                <td>{{articulo.descripcion}}</td>
                <td>{{articulo.precio}} €</td>
                <td *ngIf="articulo.estado==2">DESCATALOGADO</td>
                <td *ngIf="articulo.estado==1">EN VENTA</td>
                <td>{{articulo.creador.nombreusuario}}</td>
                <td>
                  <button type="button" class="btn btn-danger" (click)="openDialog(articulo.codigoarticulo)">ELIMINAR <i class="fas fa-trash"></i></button>
                </td>
              </tr>
            </tbody>

            <tbody *ngIf="estado==2">
                <tr *ngFor="let articulo of articulos_descatalogados">
                  <th scope="row">{{articulo.codigoarticulo}}</th>
                  <td>{{articulo.descripcion}}</td>
                  <td>{{articulo.precio}} €</td>
                  <td *ngIf="articulo.estado==2">DESCATALOGADO</td>
                  <td *ngIf="articulo.estado==1">EN VENTA</td>
                  <td>{{articulo.creador.nombreusuario}}</td>
                  <td>
                    <button type="button" class="btn btn-danger" (click)="openDialog(articulo.codigoarticulo)">ELIMINAR <i class="fas fa-trash"></i></button>
                  </td>
                </tr>
              </tbody>
        </table>
      </div>
    </div>
  </div>